<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChopSwift | Splash</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Background animation */
    body {
      background: linear-gradient(135deg, #16a34a, #22c55e, #ffffff);
      background-size: 400% 400%;
      animation: gradientMove 6s ease infinite;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Logo pulse */
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    .logo-pulse {
      animation: pulse 1.5s infinite;
    }

    /* Tagline typing effect */
    .typing {
      overflow: hidden;
      border-right: 2px solid white;
      white-space: nowrap;
      width: 0;
      animation: typing 3s steps(30, end) forwards, blink 0.7s infinite;
    }
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    @keyframes blink {
      50% { border-color: transparent; }
    }

    /* Loader dots */
    @keyframes bounceDots {
      0%, 80%, 100% { transform: scale(0); }
      40% { transform: scale(1); }
    }
    .dot {
      border-radius: 50%;
      width: 10px;
      height: 10px;
      margin: 0 4px;
      display: inline-block;
      animation: bounceDots 1.4s infinite ease-in-out both;
    }
    .dot:nth-child(1) { background: #fff; animation-delay: -0.32s; }
    .dot:nth-child(2) { background: #16a34a; animation-delay: -0.16s; }
    .dot:nth-child(3) { background: #fff; }
    
    /* Fade-out transition */
    .fade-out {
      opacity: 0;
      transition: opacity 0.8s ease;
    }
  </style>
</head>
<body class="flex items-center justify-center h-screen text-white relative">
  <!-- Splash Content -->
  <div id="splash" class="flex flex-col items-center space-y-6">
    <!-- Logo -->
    <div class="bg-white text-green-600 text-3xl font-extrabold px-8 py-6 rounded-2xl shadow-lg logo-pulse">
      ChopSwift
    </div>

    <!-- Tagline -->
    <p class="typing text-white/90 text-sm">Swift meals at your fingertips</p>

    <!-- Loading Dots -->
    <div class="flex space-x-2 mt-4">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>

  <!-- Firebase and Redirect -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDaQFXtOCIIichbxHy2mXEkYdA2k_P_TWc",
    authDomain: "blog-28cb6.firebaseapp.com",
    projectId: "blog-28cb6",
    storageBucket: "blog-28cb6.firebasestorage.app",
    messagingSenderId: "299460556471",
    appId: "1:299460556471:web:4e0f39dd8a878657543f32"
  };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Show splash, then fade out and redirect
    setTimeout(() => {
      const splash = document.getElementById("splash");
      splash.classList.add("fade-out");
      setTimeout(() => {
        onAuthStateChanged(auth, (user) => {
          if (user) {
            window.location.href = "./home/index.html"; 
          } else {
            window.location.href = "./auth/index.html";
          }
        });
      }, 800); // wait for fade-out
    }, 2500);
  </script>
</body>
</html>
